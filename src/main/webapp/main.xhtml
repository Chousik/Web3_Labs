<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>Лабораторная работа №1</title>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"/>
    <script src="scripts/script.js"/>
    <script src="scripts/canvas.js"/>
    <script src="scripts/validator.js"/>
    <link rel="stylesheet" href="styles/main2.css" />
</h:head>
<h:body>
        <div class="all">
            <div class="main-container">
                <h:form>
                    <div class="input-container">
                        <div class="input_XYR element">
                            <label>X</label>
                            <p:inputText id="xValueDisplay" value="#{pointBean.selectedX}" readonly="true" styleClass="input-field" />
                            <p:slider for="xValue" display="xValueDisplay" id="xSlider" minValue="-3" maxValue="3" step="0.5" style="width: 210px;">
                            </p:slider>
                            <h:inputHidden id="xValue" value="#{pointBean.selectedX}">
                            </h:inputHidden>
                        </div>
                        <div class="input_XYR element">
                            <label for="Y_input" class="input_text">Input Y:</label>
                            <h:inputText name="Y-input" id="Y_input" placeholder="-5..5"
                                         class="input" value="#{pointBean.selectedY}">
                                <f:validateDoubleRange minimum="-5" maximum="5" />
                            </h:inputText>
                        </div>
                        <div class="input_XYR element">
                            <label>R</label>
                            <p:inputText id="rValueDisplay" value="#{pointBean.selectedX}" readonly="true" styleClass="input-field" />
                            <p:slider for="rValue" id="rSlider" value= "#{pointBean.selectedR}" display="rValueDisplay"  minValue="1" maxValue="4" step="0.5" style="width: 210px;">
                            </p:slider>
                            <h:inputHidden id="rValue" value="#{pointBean.selectedR}">
                            </h:inputHidden>
                        </div>
                    <div class="canvas-container element" id="canvas-container">
                        <canvas id="canvas" class="canvas">Your browser is not supported</canvas>
                    </div>
                </div>
                <div class="button-container">
                    <p:commandButton class="buttons" id="check_button" value="Check"
                                     action="#{pointBean.checkPoint()}" update="result_table_wrapper" />
                </div>
                </h:form>
            </div>
            <h:panelGroup id="result_table_wrapper">
            <div class="result-table">
                <table id="result_table" class="table">
                    <thead>
                    <tr id="head-table">
                        <th>X</th>
                        <th>Y</th>
                        <th>R</th>
                        <th>Result</th>
                        <th>Current Time</th>
                        <th>Execution Time (µs)</th>
                    </tr>
                    </thead>
                    <tbody>
                    <ui:repeat value="#{pointBean.points}" var="point">
                        <tr>
                            <td>#{point.x}</td>
                            <td>#{point.y}</td>
                            <td>#{point.r}</td>
                            <td>#{point.inFlag}</td>
                            <td>#{point.time}</td>
                            <td>#{point.executionTime}</td>
                        </tr>
                    </ui:repeat>
                    </tbody>
                </table>
            </div>
            </h:panelGroup>
        </div>
</h:body>
</html>